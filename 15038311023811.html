<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  shell编程入门 - 小菜鸡
  
  </title>
 <meta name="description" content="个人博客">
 <link href="atom.xml" rel="alternate" title="小菜鸡" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">小菜鸡</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; 小菜鸡</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>容器</label></li>

          
            <li><a title="制作nginx和php的rpm包" href="15033225667618.html">制作nginx和php的rpm包</a></li>
          

      
        <li class="divider"></li>
        <li><label>web服务器</label></li>

          
            <li><a title="图解正向代理、反向代理、透明代理" href="15033223691311.html">图解正向代理、反向代理、透明代理</a></li>
          
            <li><a title="详解apache的allow和deny" href="15033200332645.html">详解apache的allow和deny</a></li>
          

      
        <li class="divider"></li>
        <li><label>卓越班学习</label></li>

          
            <li><a title="ELF和a.out文件格式的比较" href="15038328822812.html">ELF和a.out文件格式的比较</a></li>
          
            <li><a title="linux多线程编程入门" href="15038316827096.html">linux多线程编程入门</a></li>
          
            <li><a title="linux进程编程入门" href="15038316680304.html">linux进程编程入门</a></li>
          
            <li><a title="shell系统管理" href="15038311430982.html">shell系统管理</a></li>
          
            <li><a title="shell编程入门" href="15038311023811.html">shell编程入门</a></li>
          
            <li><a title="shell网络管理" href="15038310714574.html">shell网络管理</a></li>
          
            <li><a title="wait和waitpid详解" href="15033229130846.html">wait和waitpid详解</a></li>
          
            <li><a title="信号" href="15033227238921.html">信号</a></li>
          
            <li><a title="僵尸进程和孤儿进程" href="15033226512813.html">僵尸进程和孤儿进程</a></li>
          
            <li><a title="共享内存" href="15033226237472.html">共享内存</a></li>
          
            <li><a title="基于TCP的字符串传输程序" href="15033223148818.html">基于TCP的字符串传输程序</a></li>
          
            <li><a title="文件搜索" href="15033220404521.html">文件搜索</a></li>
          
            <li><a title="文件比较" href="15033218983068.html">文件比较</a></li>
          
            <li><a title="文件编辑" href="15033218793219.html">文件编辑</a></li>
          
            <li><a title="文件设置" href="15033218534320.html">文件设置</a></li>
          
            <li><a title="系统文件操作开发" href="15033218072587.html">系统文件操作开发</a></li>
          
            <li><a title="系统环境变量" href="15033217888989.html">系统环境变量</a></li>
          
            <li><a title="静态库和共享库开发" href="%E9%9D%99%E6%80%81%E5%BA%93%E5%92%8C%E5%85%B1%E4%BA%AB%E5%BA%93%E5%BC%80%E5%8F%91.html">静态库和共享库开发</a></li>
          

      
        <li class="divider"></li>
        <li><label>坑</label></li>

          
            <li><a title="<center>数据库非正常关闭导致无法启动问题</center>" href="15033220957416.html"><center>数据库非正常关闭导致无法启动问题</center></a></li>
          
            <li><a title="解决virtualbox安装增强工具失败的问题" href="15033217564988.html">解决virtualbox安装增强工具失败的问题</a></li>
          
            <li><a title="记一次ftp服务器搭建走过的坑" href="15033217230950.html">记一次ftp服务器搭建走过的坑</a></li>
          
            <li><a title="记一次mysql主从一致校验走过的坑" href="15033215794872.html">记一次mysql主从一致校验走过的坑</a></li>
          

      
        <li class="divider"></li>
        <li><label>日常运维</label></li>

          
            <li><a title="dns服务器报错解决" href="15038329582108.html">dns服务器报错解决</a></li>
          
            <li><a title="docker随谈" href="15038329005848.html">docker随谈</a></li>
          
            <li><a title="i节点，容易被人遗忘的节点" href="15038322315997.html">i节点，容易被人遗忘的节点</a></li>
          
            <li><a title="libc.so.6被删后导致系统无法使用的原因及解决方法" href="15038321032705.html">libc.so.6被删后导致系统无法使用的原因及解决方法</a></li>
          
            <li><a title="linux下nginx模块开发入门" href="15038318990451.html">linux下nginx模块开发入门</a></li>
          
            <li><a title="Linux下配置rsync服务器" href="15038318551859.html">Linux下配置rsync服务器</a></li>
          
            <li><a title="mysql初始化" href="15038316518471.html">mysql初始化</a></li>
          
            <li><a title="nagios安装" href="15038316187109.html">nagios安装</a></li>
          
            <li><a title="nagios配置" href="15038315676757.html">nagios配置</a></li>
          
            <li><a title="nginx、mysql、php等各编译参数查询" href="15038315492978.html">nginx、mysql、php等各编译参数查询</a></li>
          
            <li><a title="nginx性能优化技巧" href="15038314081873.html">nginx性能优化技巧</a></li>
          
            <li><a title="php安装memcache扩展" href="15038313472966.html">php安装memcache扩展</a></li>
          
            <li><a title="puppet和ansible比较" href="15038313193415.html">puppet和ansible比较</a></li>
          
            <li><a title="puppet学习笔记(二)" href="15038312823109.html">puppet学习笔记(二)</a></li>
          
            <li><a title="puppet学习笔记（一）" href="15038311899167.html">puppet学习笔记（一）</a></li>
          
            <li><a title="ssh大坑" href="15038309933322.html">ssh大坑</a></li>
          
            <li><a title="svn同步大坑" href="15038308908725.html">svn同步大坑</a></li>
          
            <li><a title="svn服务器搭建与迁移" href="15038308118838.html">svn服务器搭建与迁移</a></li>
          
            <li><a title="ubuntu mysql5.7源码安装" href="15033230940135.html">ubuntu mysql5.7源码安装</a></li>
          
            <li><a title="ubuntu php5.6源码安装" href="15033230316456.html">ubuntu php5.6源码安装</a></li>
          
            <li><a title="ubuntu下nginx的安裝" href="15033229668634.html">ubuntu下nginx的安裝</a></li>
          
            <li><a title="ubuntu安装php常见错误集锦" href="15033229497885.html">ubuntu安装php常见错误集锦</a></li>
          
            <li><a title="vim常用命令" href="15033229297218.html">vim常用命令</a></li>
          
            <li><a title="使用RAID进行磁盘管理" href="15033227857622.html">使用RAID进行磁盘管理</a></li>
          
            <li><a title="使用virt-manager创建和管理虚拟机" href="15033227559982.html">使用virt-manager创建和管理虚拟机</a></li>
          
            <li><a title="关于mysqld_safe" href="15033226078265.html">关于mysqld_safe</a></li>
          
            <li><a title="安装linux各种桌面环境" href="15033222846104.html">安装linux各种桌面环境</a></li>
          
            <li><a title="常用软件编译参数以及软件地址" href="15033222695994.html">常用软件编译参数以及软件地址</a></li>
          
            <li><a title="打造属于自己的vim利器" href="15033222443468.html">打造属于自己的vim利器</a></li>
          
            <li><a title="搭建本地yum源服务器" href="15033221654695.html">搭建本地yum源服务器</a></li>
          

      
        <li class="divider"></li>
        <li><label>http</label></li>

          
            <li><a title="HTTP协议 (七) Cookie" href="15038327056467.html">HTTP协议 (七) Cookie</a></li>
          
            <li><a title="HTTP协议 (六) 状态码详解" href="15038326831174.html">HTTP协议 (六) 状态码详解</a></li>
          
            <li><a title="HTTP协议 (五) 代理" href="15038326274764.html">HTTP协议 (五) 代理</a></li>
          
            <li><a title="HTTP协议 (四) 缓存" href="15038325535184.html">HTTP协议 (四) 缓存</a></li>
          
            <li><a title="HTTP协议 (三) 压缩" href="15038324866170.html">HTTP协议 (三) 压缩</a></li>
          
            <li><a title="HTTP协议 (二) 基本认证" href="15038324138209.html">HTTP协议 (二) 基本认证</a></li>
          
            <li><a title="HTTP协议 (一) HTTP协议详解" href="15038322654511.html">HTTP协议 (一) HTTP协议详解</a></li>
          

      
        <li class="divider"></li>
        <li><label>监控</label></li>

          
            <li><a title="zabbix安装排错过程" href="15033228802565.html">zabbix安装排错过程</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>容器</span></li>
                        
                          <li><a title="制作nginx和php的rpm包" href="15033225667618.html">制作nginx和php的rpm包</a></li>
                        

                    
                      <li class="side-title"><span>web服务器</span></li>
                        
                          <li><a title="图解正向代理、反向代理、透明代理" href="15033223691311.html">图解正向代理、反向代理、透明代理</a></li>
                        
                          <li><a title="详解apache的allow和deny" href="15033200332645.html">详解apache的allow和deny</a></li>
                        

                    
                      <li class="side-title"><span>卓越班学习</span></li>
                        
                          <li><a title="ELF和a.out文件格式的比较" href="15038328822812.html">ELF和a.out文件格式的比较</a></li>
                        
                          <li><a title="linux多线程编程入门" href="15038316827096.html">linux多线程编程入门</a></li>
                        
                          <li><a title="linux进程编程入门" href="15038316680304.html">linux进程编程入门</a></li>
                        
                          <li><a title="shell系统管理" href="15038311430982.html">shell系统管理</a></li>
                        
                          <li><a title="shell编程入门" href="15038311023811.html">shell编程入门</a></li>
                        
                          <li><a title="shell网络管理" href="15038310714574.html">shell网络管理</a></li>
                        
                          <li><a title="wait和waitpid详解" href="15033229130846.html">wait和waitpid详解</a></li>
                        
                          <li><a title="信号" href="15033227238921.html">信号</a></li>
                        
                          <li><a title="僵尸进程和孤儿进程" href="15033226512813.html">僵尸进程和孤儿进程</a></li>
                        
                          <li><a title="共享内存" href="15033226237472.html">共享内存</a></li>
                        
                          <li><a title="基于TCP的字符串传输程序" href="15033223148818.html">基于TCP的字符串传输程序</a></li>
                        
                          <li><a title="文件搜索" href="15033220404521.html">文件搜索</a></li>
                        
                          <li><a title="文件比较" href="15033218983068.html">文件比较</a></li>
                        
                          <li><a title="文件编辑" href="15033218793219.html">文件编辑</a></li>
                        
                          <li><a title="文件设置" href="15033218534320.html">文件设置</a></li>
                        
                          <li><a title="系统文件操作开发" href="15033218072587.html">系统文件操作开发</a></li>
                        
                          <li><a title="系统环境变量" href="15033217888989.html">系统环境变量</a></li>
                        
                          <li><a title="静态库和共享库开发" href="%E9%9D%99%E6%80%81%E5%BA%93%E5%92%8C%E5%85%B1%E4%BA%AB%E5%BA%93%E5%BC%80%E5%8F%91.html">静态库和共享库开发</a></li>
                        

                    
                      <li class="side-title"><span>坑</span></li>
                        
                          <li><a title="<center>数据库非正常关闭导致无法启动问题</center>" href="15033220957416.html"><center>数据库非正常关闭导致无法启动问题</center></a></li>
                        
                          <li><a title="解决virtualbox安装增强工具失败的问题" href="15033217564988.html">解决virtualbox安装增强工具失败的问题</a></li>
                        
                          <li><a title="记一次ftp服务器搭建走过的坑" href="15033217230950.html">记一次ftp服务器搭建走过的坑</a></li>
                        
                          <li><a title="记一次mysql主从一致校验走过的坑" href="15033215794872.html">记一次mysql主从一致校验走过的坑</a></li>
                        

                    
                      <li class="side-title"><span>日常运维</span></li>
                        
                          <li><a title="dns服务器报错解决" href="15038329582108.html">dns服务器报错解决</a></li>
                        
                          <li><a title="docker随谈" href="15038329005848.html">docker随谈</a></li>
                        
                          <li><a title="i节点，容易被人遗忘的节点" href="15038322315997.html">i节点，容易被人遗忘的节点</a></li>
                        
                          <li><a title="libc.so.6被删后导致系统无法使用的原因及解决方法" href="15038321032705.html">libc.so.6被删后导致系统无法使用的原因及解决方法</a></li>
                        
                          <li><a title="linux下nginx模块开发入门" href="15038318990451.html">linux下nginx模块开发入门</a></li>
                        
                          <li><a title="Linux下配置rsync服务器" href="15038318551859.html">Linux下配置rsync服务器</a></li>
                        
                          <li><a title="mysql初始化" href="15038316518471.html">mysql初始化</a></li>
                        
                          <li><a title="nagios安装" href="15038316187109.html">nagios安装</a></li>
                        
                          <li><a title="nagios配置" href="15038315676757.html">nagios配置</a></li>
                        
                          <li><a title="nginx、mysql、php等各编译参数查询" href="15038315492978.html">nginx、mysql、php等各编译参数查询</a></li>
                        
                          <li><a title="nginx性能优化技巧" href="15038314081873.html">nginx性能优化技巧</a></li>
                        
                          <li><a title="php安装memcache扩展" href="15038313472966.html">php安装memcache扩展</a></li>
                        
                          <li><a title="puppet和ansible比较" href="15038313193415.html">puppet和ansible比较</a></li>
                        
                          <li><a title="puppet学习笔记(二)" href="15038312823109.html">puppet学习笔记(二)</a></li>
                        
                          <li><a title="puppet学习笔记（一）" href="15038311899167.html">puppet学习笔记（一）</a></li>
                        
                          <li><a title="ssh大坑" href="15038309933322.html">ssh大坑</a></li>
                        
                          <li><a title="svn同步大坑" href="15038308908725.html">svn同步大坑</a></li>
                        
                          <li><a title="svn服务器搭建与迁移" href="15038308118838.html">svn服务器搭建与迁移</a></li>
                        
                          <li><a title="ubuntu mysql5.7源码安装" href="15033230940135.html">ubuntu mysql5.7源码安装</a></li>
                        
                          <li><a title="ubuntu php5.6源码安装" href="15033230316456.html">ubuntu php5.6源码安装</a></li>
                        
                          <li><a title="ubuntu下nginx的安裝" href="15033229668634.html">ubuntu下nginx的安裝</a></li>
                        
                          <li><a title="ubuntu安装php常见错误集锦" href="15033229497885.html">ubuntu安装php常见错误集锦</a></li>
                        
                          <li><a title="vim常用命令" href="15033229297218.html">vim常用命令</a></li>
                        
                          <li><a title="使用RAID进行磁盘管理" href="15033227857622.html">使用RAID进行磁盘管理</a></li>
                        
                          <li><a title="使用virt-manager创建和管理虚拟机" href="15033227559982.html">使用virt-manager创建和管理虚拟机</a></li>
                        
                          <li><a title="关于mysqld_safe" href="15033226078265.html">关于mysqld_safe</a></li>
                        
                          <li><a title="安装linux各种桌面环境" href="15033222846104.html">安装linux各种桌面环境</a></li>
                        
                          <li><a title="常用软件编译参数以及软件地址" href="15033222695994.html">常用软件编译参数以及软件地址</a></li>
                        
                          <li><a title="打造属于自己的vim利器" href="15033222443468.html">打造属于自己的vim利器</a></li>
                        
                          <li><a title="搭建本地yum源服务器" href="15033221654695.html">搭建本地yum源服务器</a></li>
                        

                    
                      <li class="side-title"><span>http</span></li>
                        
                          <li><a title="HTTP协议 (七) Cookie" href="15038327056467.html">HTTP协议 (七) Cookie</a></li>
                        
                          <li><a title="HTTP协议 (六) 状态码详解" href="15038326831174.html">HTTP协议 (六) 状态码详解</a></li>
                        
                          <li><a title="HTTP协议 (五) 代理" href="15038326274764.html">HTTP协议 (五) 代理</a></li>
                        
                          <li><a title="HTTP协议 (四) 缓存" href="15038325535184.html">HTTP协议 (四) 缓存</a></li>
                        
                          <li><a title="HTTP协议 (三) 压缩" href="15038324866170.html">HTTP协议 (三) 压缩</a></li>
                        
                          <li><a title="HTTP协议 (二) 基本认证" href="15038324138209.html">HTTP协议 (二) 基本认证</a></li>
                        
                          <li><a title="HTTP协议 (一) HTTP协议详解" href="15038322654511.html">HTTP协议 (一) HTTP协议详解</a></li>
                        

                    
                      <li class="side-title"><span>监控</span></li>
                        
                          <li><a title="zabbix安装排错过程" href="15033228802565.html">zabbix安装排错过程</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>shell编程入门</h1>

<h2 id="toc_0">背景知识</h2>

<p>　　Shell 是用户与内核进行交互操作的一种接口,是 Linux 最重要的软件之一。目前最流行的 Shell 称为 bash Shell,bash Shell 脚本编程以其简洁、高效而著称,多年来成为 Linux 程序员和系统管理员解决实际问题的利器。Shell 是操作系统的最外层。Shell 合并编程语言以控制进程和文件,以及启动和控制其它程序。Shell 通过提示您输入,向操作系统解释该输入,然后处理来自操作系统的任何结果输出来管理您与操作系统之间的交互。Shell 提供了与操作系统通信的方式。此通信以交互的方式(来自键盘的输入立即操作)或作为一个 Shell 脚本执行。Shell 脚本是Shell 和操作系统命令的序列,它存储在文件中。当登录到系统中时,系统定位要执行的 Shell 的名称。在它执行之后,Shell 显示一个命令提示符。普通用户的此提示符通常是一个 $(美元符)。当提示符下输入命令并按下 Enter 键时,Shell 对命令进行求值,并尝试执行它。取决于命令说明,Shell 将命令输出写到屏幕或重定向到输出。然后它返回命令提示符,并等待您输入另一个命令。命令行是输入所在的行,它包含 Shell 提示符。每行的基本格式如下:</p>

<blockquote>
<p>$ 命令 参数(一个或多个)</p>
</blockquote>

<p>　　Shell 视命令行的第一个字(直到第一个空格)为命令,所有后继字为自变量。在此推荐大家使用zsh，具体下载安装版本请参考<a href="http://macshuo.com/?p=676">http://macshuo.com/?p=676</a></p>

<h4 id="toc_1">1.判断文件是否为块设备或字符设备文件,如果是将其拷贝到/dev 目录下</h4>

<p>思路：<br/>
1、read 命令从键盘或文件中读入信息,将其赋给变量(一个或多个),直到遇到回车符或文件结束符为止。<br/>
2、I/O 设备大致分为两类:块设备和字符设备。块设备将信息存储在固定大小的块中,每个块都有自己的地址。数据块的大小通常在 512字节到 32768 字节之间。块设备的基本特征是每个块都能独立于其它块而读写。磁盘是最常见的块设备。</p>

<blockquote>
<pre><code>#!/bin/bash
read -p &quot;please input a filename:&quot; filename
if test -b &quot;$filename&quot; -o -c &quot;$filename&quot;;then
    echo &quot;$filename is a device file&quot; &amp;&amp; cp $filename /dev
else
    echo &quot;$filename is not a device file&quot;
fi 
</code></pre>
</blockquote>

<h4 id="toc_2">2.模拟 Linux 登陆 Shell</h4>

<blockquote>
<pre><code>#!/bin/bash
x=wj       #这是用户名
y=1111   #这是密码
read -p &quot;please input yourname:&quot; yourname
read -p &quot;please input yourkey:&quot;  yourkey
if test &quot;$x&quot; = &quot;$yourname&quot; -a &quot;$y&quot; = &quot;$yourkey&quot; ;then bash    #注意test后面比较大小的空格不能省
else
　　  echo&quot;please try again&quot; 
fi 
</code></pre>
</blockquote>

<h3 id="toc_3">3.从键盘读取两个数,并比较两个数大小,并打印结果</h3>

<blockquote>
<pre><code>#!/bin/bash
read -p &quot;please input num1:&quot; num1
read -p &quot;please input num2:&quot; num2
if test $num1 = $num2 ;then 
    echo &quot;num1=num2&quot;
elif test $num1 -gt $num2 ;then 
    echo &quot;num1&gt;num2&quot;
else test $num1 -lt $num2 
    echo &quot;num1&lt;num2&quot;
fi 
</code></pre>
</blockquote>

<h4 id="toc_4">4.查找/root/目录下是否存在指定文件</h4>

<blockquote>
<pre><code>#!/bin/bash
cd /root
read -p &quot;please input filename:&quot; filename
if test -e $filename;then
    echo &quot;$filename is exist&quot;
else
    echo &quot;$filename is not exist&quot;
fi 
</code></pre>
</blockquote>

<h4 id="toc_5">5.删除当前目录下大小为 0 的文件</h4>

<blockquote>
<pre><code>#/bin/bash
for filename in `ls`;do
    if test -d $filename；then 
        b=1
    else
        a=$(ls -l $filename | awk &#39;{ print $5 }&#39;)
        if test $a -eq 0；then 
            rm $filename
        fi
    fi
done
</code></pre>
</blockquote>

<h4 id="toc_6">6.查找最大文件</h4>

<blockquote>
<pre><code>#!/bin/bash
a=0
for name in *;do
    if test -d $name;then
        c=1
    else
        b=$(ls -l $name | awk &#39;{print $5}&#39;)
        if test $b -ge $a;then 
　　　　　　a=$b
          namemax=$name
        fi
    fi
done
echo &quot;the max file is $namemax&quot; 
</code></pre>
</blockquote>

<h4 id="toc_7">7.打印当前用户(不用 whoami)</h4>

<blockquote>
<pre><code>#!/bin/bash
echo &quot;Current User is :&quot;echo $(who |  sed -n &#39;1p&#39; | awk &#39;{print $1}&#39;)
</code></pre>
</blockquote>

<h4 id="toc_8">8.查找当前目录中所有大于 50k 的文件,把这些文件名写到一个文本文件中,并统计其个数</h4>

<p>提示：wc 命令的功能为统计指定文件中的字节数、字数、行数,并将统计结果显示输出</p>

<blockquote>
<pre><code>#!/bin/bash
find ./ -size +50k &gt; toingji.txt 
cat tongji.txt |wc -l   
</code></pre>
</blockquote>

<h4 id="toc_9">9.一个函数,利用 shift 计算所有参数乘积,假设参数均为整数</h4>

<p>思路:<br/>
1、expr 命令为 Linux 中的命令,一般用于整数值计算,但也可用于字符串操作。<br/>
2、对于某个命令行参数,其参数个数可以不固定,但是可以通过$*或$@进行循环操作。若用户要求 Shell 在不知道变量个数的情况下,还能逐个处理参数,也就是在$1 之后是$2,$2之后是$3。在未运行shift 命令之前$1 是可用的,当使用 shift命令之后,原来的$2会变成$1,并且原有的$1 变得不可用,通过$#命令获得的参数个数也会少1<br/>
3、shift：用于左移命令行参数</p>

<blockquote>
<pre><code>#!/bin/bash
result=1
# \$#表示参数个数
while test $# -gt 0;do
     result=`expr $1 \* $result`
     shift
done
echo &quot;the result is $result&quot; 
</code></pre>
</blockquote>

<h4 id="toc_10">10.测试一个文件是否已经被排序过</h4>

<blockquote>
<pre><code>#!/bin/bash
read -p &quot;please input your filename:&quot; file
sort -C $file
# $?表示执行上一个指令的返回值 (显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误)
a=$? 
if test $a -eq 0 ;then 
    echo &quot;$file is youxu&quot; 
else 
    echo &quot;$file is wuxu&quot; 
fi 
</code></pre>
</blockquote>

<h4 id="toc_11">11.判断用户是否在运行</h4>

<blockquote>
<pre><code>#!/bin/bash
a=$(ps | grep &quot;$$&quot; | awk &#39;{print $2}&#39;)
b=$( who| grep &quot;$a&quot; | awk &#39;{print $1}&#39;)
read -p &quot;please input a username:&quot; username
if [ &quot;$b&quot; = &quot;$username&quot; ];then
    echo &quot;the ueser is running&quot;
else
    echo &quot;the ueser is not running&quot;
fi 
</code></pre>
</blockquote>

<h4 id="toc_12">12.在当前目录下交互式创建文件夹(文件夹已存在则打印提示输入新名字)</h4>

<blockquote>
<pre><code>#!/bin/bash
read -p &quot;please input dirname:&quot; file
if test -d $file;then
    echo dir is exist please try again
else
    read -p &quot;create dir now?[y/n] &quot; sel
    if test &quot;$sel&quot; = &quot;y&quot;;then
        mkdir $file
    elif test &quot;$sel&quot; = &quot;n&quot;;then
        bash
    else
        echo &quot;Your input is wrong&quot;
    fi
fi 
</code></pre>
</blockquote>

<h4 id="toc_13">13.获取本机 IP 地址</h4>

<blockquote>
<pre><code>#!/bin/bash
a=$(ifconfig | grep &quot;inet 地址:&quot; |  awk &#39;{print $2}&#39; | sed &#39;s/地址://g&#39; |sed -n &#39;1p&#39; )
echo &quot;ip is $a&quot;
</code></pre>
</blockquote>

<h4 id="toc_14">14.打印无密码用户</h4>

<blockquote>
<pre><code>#!/bin/bash
echo &quot;no passwd user are:&quot;
a=$(sudo cat /etc/shadow | grep &quot;*&quot; | awk &#39;BEGIN { FS=&quot;:&quot; }{print $1}&#39;)
#在处理输入文件以前，域分隔符(FS)被设为冒号
echo $a
</code></pre>
</blockquote>

<h4 id="toc_15">15.写一个脚本,利用循环计算 n的阶乘</h4>

<blockquote>
<pre><code>#!/bin/bash
read -p &quot;please input n:&quot; n
sum=1
for a in `seq 1 $n`;do
    sum=`expr $sum \* $a`
done
echo &quot;n! = $sum&quot; 
</code></pre>
</blockquote>

<h4 id="toc_16">16.利用case语句测试输入字符是否是:小写/大写/数字/其他</h4>

<blockquote>
<pre><code>#!/bin/bash
read -p &quot;please input something:&quot; Key
case $Key in
    [[:lower:]]) echo &quot;It is lowercase&quot;;;
    [[:upper:]]) echo &quot;It is uppercase&quot;;;
    [0-9]) echo &quot;It is number&quot;;;
esac 
</code></pre>
</blockquote>

<h4 id="toc_17">17.测试文件是否包含特定的文本内容</h4>

<blockquote>
<pre><code>#!/bin/bash
read -p &quot;enter a string: &quot; string
read -p &quot;enter a filename: &quot; filename
grep -q &quot;$string&quot; $filename #在file中查找str（不输出找到的内容），成功返回0
if test $? -eq 0;then
    echo &quot;The text exists in the file&quot;
else
    echo &quot;Text does not exist in the file&quot;
fi
</code></pre>
</blockquote>

<h4 id="toc_18">18.检测给定的单词是否为词典中的单词</h4>

<blockquote>
<pre><code>#!/bin/bash
read -p &quot;enter a string:&quot; string
#/usr/share/dict/american-english是ubuntu 系统中英式英语常用单词列表的字典文件
grep -q &quot;$string&quot; /usr/share/dict/american-english
if test $? -eq 0;then
    echo &quot;match directionary&quot;
else
    echo &quot;not match directionary&quot;
fi
</code></pre>
</blockquote>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="15038311430982.html"  title="Previous Post: shell系统管理">&laquo; shell系统管理</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="15038310714574.html" 
	        title="Next Post: shell网络管理">shell网络管理 &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '15038311023811.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    <script src="asset/chart/all-min.js"></script><script type="text/javascript">$(function(){    var mwebii=0;    var mwebChartEleId = 'mweb-chart-ele-';    $('pre>code').each(function(){        mwebii++;        var eleiid = mwebChartEleId+mwebii;        if($(this).hasClass('language-sequence')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = Diagram.parse($(this).text());            diagram.drawSVG(eleiid,{theme: 'simple'});        }else if($(this).hasClass('language-flow')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = flowchart.parse($(this).text());            diagram.drawSVG(eleiid);        }    });});</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>

  </body>
</html>
